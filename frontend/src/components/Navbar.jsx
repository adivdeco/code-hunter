import { NavLink, useLocation } from "react-router";
import { ShimmerButton } from "@/components/magicui/shimmer-button";
import { useDispatch, useSelector } from 'react-redux';
import NavProfile from "./NavProfile";
import ThreeRingLoader from "@/components/ThreeRingLoader";
import { useState, useEffect } from "react";
import { FiMenu, FiX } from "react-icons/fi";

export default function Navbar() {
    const { isAuthenticated, user, loading } = useSelector((state) => state.auth);
    const location = useLocation();
    const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
    const [scrolled, setScrolled] = useState(false);
    const isDarkBackground = ["/", "/pricing"].includes(location.pathname);

    // Handle scroll effect
    useEffect(() => {
        const handleScroll = () => {
            setScrolled(window.scrollY > 10);
        };
        window.addEventListener('scroll', handleScroll);
        return () => window.removeEventListener('scroll', handleScroll);
    }, []);

    // Close mobile menu when route changes
    useEffect(() => {
        setMobileMenuOpen(false);
    }, [location.pathname]);

    if (loading) {
        return <ThreeRingLoader />;
    }

    return (
        <>
            <nav className={`fixed top-0 left-1/2 z-50 flex h-[75px] w-full md:w-[95%] -translate-x-1/2 items-center justify-between px-4 md:px-6 rounded-lg border-b border-white/20 bg-tranparent backdrop-blur-md shadow-xl transition-all duration-300 
                }`}>
                {/* ${scrolled ? 'py-2 h-[45px]' : 'bg-transparent py-0' */}

                {/* Logo - You'll add your SVG here */}
                <NavLink to={"/"} className="z-50">
                    <div className="nav text-2xl font-bold">
                        {/* Your logo will go here */}
                        <div className="logo-placeholder h-8 w-auto md:h-9">
                            {/* Insert your logo component or SVG here */}
                            <svg
                                className="transition-colors duration-300"
                                style={{
                                    '--logo-fill': isDarkBackground ? 'black' : 'white'
                                }}
                                width="203"
                                height="29"
                                viewBox="0 0 203 29"
                                xmlns="http://www.w3.org/2000/svg"
                            >

                                <path
                                    d="M17.8594 11.4219L15.5781 12.3281C15.2135 11.1823 14.6042 10.3021 13.75 9.6875C12.8958 9.07292 11.8698 8.76562 10.6719 8.76562C10.026 8.76562 9.44792 8.86979 8.9375 9.07812C8.4375 9.27604 7.99479 9.55208 7.60938 9.90625C7.23438 10.2604 6.91146 10.6719 6.64062 11.1406C6.38021 11.6094 6.16667 12.1094 6 12.6406C5.83333 13.1719 5.71354 13.724 5.64062 14.2969C5.56771 14.8594 5.53125 15.4062 5.53125 15.9375C5.53125 16.5104 5.5625 17.0885 5.625 17.6719C5.6875 18.2552 5.79167 18.8177 5.9375 19.3594C6.09375 19.8906 6.29688 20.3906 6.54688 20.8594C6.79688 21.3177 7.10938 21.7188 7.48438 22.0625C7.86979 22.4062 8.32292 22.6771 8.84375 22.875C9.375 23.0729 9.98438 23.1719 10.6719 23.1719C11.224 23.1719 11.75 23.0885 12.25 22.9219C12.75 22.7552 13.2083 22.5208 13.625 22.2188C14.0417 21.9167 14.4115 21.5573 14.7344 21.1406C15.0573 20.724 15.3125 20.2604 15.5 19.75L17.7969 20.5938C17.4531 21.4167 16.9948 22.1302 16.4219 22.7344C15.8594 23.3281 15.2188 23.8229 14.5 24.2188C13.7812 24.6042 13.0104 24.8906 12.1875 25.0781C11.3646 25.2656 10.5312 25.3594 9.6875 25.3594C8.32292 25.3594 7.05729 25.1302 5.89062 24.6719C4.72396 24.2031 3.71354 23.5521 2.85938 22.7188C2.01562 21.875 1.35417 20.8802 0.875 19.7344C0.395833 18.5781 0.15625 17.3125 0.15625 15.9375C0.15625 14.5521 0.390625 13.2812 0.859375 12.125C1.33854 10.9688 2 9.97396 2.84375 9.14062C3.6875 8.30729 4.69271 7.66146 5.85938 7.20312C7.02604 6.74479 8.30208 6.51562 9.6875 6.51562C10.5625 6.51562 11.4167 6.61458 12.25 6.8125C13.0833 7 13.8542 7.29688 14.5625 7.70312C15.2812 8.09896 15.9219 8.60417 16.4844 9.21875C17.0573 9.83333 17.5156 10.5677 17.8594 11.4219ZM40.0469 15.9375C40.0469 16.875 39.9219 17.7552 39.6719 18.5781C39.4219 19.401 39.0729 20.1615 38.625 20.8594C38.1875 21.5573 37.6562 22.1875 37.0312 22.75C36.4062 23.3021 35.7188 23.7708 34.9688 24.1562C34.2292 24.5417 33.4323 24.8385 32.5781 25.0469C31.7344 25.2552 30.8646 25.3594 29.9688 25.3594C29.0729 25.3594 28.2031 25.2552 27.3594 25.0469C26.5156 24.8385 25.7188 24.5417 24.9688 24.1562C24.2292 23.7708 23.5469 23.3021 22.9219 22.75C22.2969 22.1875 21.7604 21.5573 21.3125 20.8594C20.875 20.1615 20.5312 19.401 20.2812 18.5781C20.0312 17.7448 19.9062 16.8646 19.9062 15.9375C19.9062 15.0104 20.0312 14.1354 20.2812 13.3125C20.5312 12.4792 20.875 11.7135 21.3125 11.0156C21.7604 10.3177 22.2969 9.69271 22.9219 9.14062C23.5469 8.57812 24.2292 8.10417 24.9688 7.71875C25.7188 7.33333 26.5156 7.03646 27.3594 6.82812C28.2031 6.61979 29.0729 6.51562 29.9688 6.51562C30.8646 6.51562 31.7344 6.61979 32.5781 6.82812C33.4323 7.03646 34.2292 7.33333 34.9688 7.71875C35.7188 8.10417 36.4062 8.57812 37.0312 9.14062C37.6562 9.69271 38.1875 10.3177 38.625 11.0156C39.0729 11.7135 39.4219 12.4792 39.6719 13.3125C39.9219 14.1354 40.0469 15.0104 40.0469 15.9375ZM34.6719 15.9375C34.6719 15.4375 34.6406 14.9115 34.5781 14.3594C34.526 13.7969 34.4323 13.25 34.2969 12.7188C34.1615 12.1771 33.974 11.6615 33.7344 11.1719C33.5052 10.6719 33.2188 10.2396 32.875 9.875C32.5312 9.5 32.1198 9.20312 31.6406 8.98438C31.1615 8.75521 30.6042 8.64062 29.9688 8.64062C29.3646 8.64062 28.8281 8.75521 28.3594 8.98438C27.8906 9.21354 27.4792 9.52083 27.125 9.90625C26.7812 10.2812 26.4896 10.7188 26.25 11.2188C26.0208 11.7188 25.8333 12.2396 25.6875 12.7812C25.5417 13.3125 25.4375 13.8542 25.375 14.4062C25.3125 14.9479 25.2812 15.4583 25.2812 15.9375C25.2812 16.4167 25.3125 16.9323 25.375 17.4844C25.4375 18.026 25.5417 18.5677 25.6875 19.1094C25.8333 19.651 26.0208 20.1719 26.25 20.6719C26.4896 21.1615 26.7812 21.599 27.125 21.9844C27.4792 22.3594 27.8906 22.6615 28.3594 22.8906C28.8281 23.1198 29.3646 23.2344 29.9688 23.2344C30.5938 23.2344 31.1458 23.125 31.625 22.9062C32.1042 22.6771 32.5156 22.375 32.8594 22C33.2135 21.625 33.5052 21.1927 33.7344 20.7031C33.9635 20.2135 34.1458 19.6979 34.2812 19.1562C34.4271 18.6146 34.526 18.0677 34.5781 17.5156C34.6406 16.9635 34.6719 16.4375 34.6719 15.9375ZM61.5781 25H59.5469L57.2031 21.0781C56.974 21.7344 56.6562 22.3281 56.25 22.8594C55.8542 23.3906 55.3906 23.849 54.8594 24.2344C54.3385 24.6094 53.7604 24.901 53.125 25.1094C52.5 25.3177 51.8385 25.4219 51.1406 25.4219C49.7656 25.4219 48.5365 25.1771 47.4531 24.6875C46.3698 24.1979 45.4531 23.5312 44.7031 22.6875C43.9531 21.8333 43.3802 20.8333 42.9844 19.6875C42.5885 18.5417 42.3906 17.3125 42.3906 16C42.3906 14.6875 42.5885 13.4583 42.9844 12.3125C43.3802 11.1667 43.9531 10.1719 44.7031 9.32812C45.4531 8.48438 46.3698 7.81771 47.4531 7.32812C48.5365 6.83854 49.7656 6.59375 51.1406 6.59375C52.1927 6.59375 53.1562 6.79688 54.0312 7.20312C54.9167 7.60938 55.6719 8.24479 56.2969 9.10938V0.3125H61.5781V25ZM56.2656 16C56.2656 15.5833 56.2344 15.125 56.1719 14.625C56.1094 14.125 56.0104 13.6198 55.875 13.1094C55.7396 12.599 55.5625 12.1042 55.3438 11.625C55.125 11.1458 54.8542 10.7188 54.5312 10.3438C54.2188 9.96875 53.849 9.67188 53.4219 9.45312C53.0052 9.22396 52.526 9.10938 51.9844 9.10938C51.3906 9.10938 50.875 9.21875 50.4375 9.4375C50 9.64583 49.625 9.93229 49.3125 10.2969C49 10.651 48.7396 11.0625 48.5312 11.5312C48.3333 12 48.1771 12.4896 48.0625 13C47.9479 13.5104 47.8646 14.026 47.8125 14.5469C47.7708 15.0573 47.75 15.5417 47.75 16C47.75 16.4583 47.7708 16.9479 47.8125 17.4688C47.8646 17.9792 47.9479 18.4896 48.0625 19C48.1771 19.5104 48.3333 20.0052 48.5312 20.4844C48.7396 20.9531 49 21.3698 49.3125 21.7344C49.625 22.0885 50 22.375 50.4375 22.5938C50.875 22.8021 51.3906 22.9062 51.9844 22.9062C52.5781 22.9062 53.099 22.8021 53.5469 22.5938C53.9948 22.3854 54.375 22.1042 54.6875 21.75C55.0104 21.3854 55.2708 20.974 55.4688 20.5156C55.6771 20.0469 55.8385 19.5573 55.9531 19.0469C56.0677 18.526 56.1458 18.0052 56.1875 17.4844C56.2396 16.9635 56.2656 16.4688 56.2656 16ZM70.3281 16.4375C70.974 16.5833 71.6198 16.6979 72.2656 16.7812C72.9115 16.8646 73.5625 16.9062 74.2188 16.9062C74.9062 16.9062 75.5417 16.8438 76.125 16.7188C76.7188 16.5833 77.2292 16.3646 77.6562 16.0625C78.0938 15.75 78.4375 15.3385 78.6875 14.8281C78.9375 14.3177 79.0625 13.6823 79.0625 12.9219C79.0625 12.3073 78.9792 11.7448 78.8125 11.2344C78.6458 10.724 78.3958 10.2865 78.0625 9.92188C77.7396 9.55729 77.3385 9.27604 76.8594 9.07812C76.3802 8.86979 75.8229 8.76562 75.1875 8.76562C74.5938 8.76562 74.0573 8.875 73.5781 9.09375C73.1094 9.3125 72.6927 9.60938 72.3281 9.98438C71.974 10.349 71.6667 10.776 71.4062 11.2656C71.1562 11.7552 70.9479 12.2656 70.7812 12.7969C70.6146 13.3281 70.4948 13.8646 70.4219 14.4062C70.349 14.9479 70.3125 15.4583 70.3125 15.9375C70.3125 16.0208 70.3125 16.1042 70.3125 16.1875C70.3125 16.2708 70.3177 16.3542 70.3281 16.4375ZM83.3438 12.875C83.3438 13.6146 83.224 14.276 82.9844 14.8594C82.7448 15.4323 82.4167 15.9375 82 16.375C81.5938 16.8125 81.1198 17.1823 80.5781 17.4844C80.0365 17.7865 79.4583 18.0365 78.8438 18.2344C78.2292 18.4219 77.5938 18.5573 76.9375 18.6406C76.2917 18.724 75.6615 18.7656 75.0469 18.7656C74.2656 18.7656 73.4948 18.7135 72.7344 18.6094C71.974 18.4948 71.224 18.3177 70.4844 18.0781C70.599 18.7656 70.7812 19.4219 71.0312 20.0469C71.2812 20.6615 71.6146 21.2031 72.0312 21.6719C72.4479 22.1302 72.9583 22.4948 73.5625 22.7656C74.1771 23.0365 74.901 23.1719 75.7344 23.1719C76.2865 23.1719 76.8125 23.0885 77.3125 22.9219C77.8125 22.7552 78.2708 22.5208 78.6875 22.2188C79.1042 21.9167 79.4688 21.5573 79.7812 21.1406C80.1042 20.724 80.3646 20.2604 80.5625 19.75L82.8438 20.5938C82.5 21.4167 82.026 22.1302 81.4219 22.7344C80.8281 23.3281 80.151 23.8229 79.3906 24.2188C78.6406 24.6042 77.8385 24.8906 76.9844 25.0781C76.1406 25.2656 75.3021 25.3594 74.4688 25.3594C73.0938 25.3594 71.8229 25.1302 70.6562 24.6719C69.4896 24.2031 68.4844 23.5521 67.6406 22.7188C66.7969 21.8854 66.1354 20.8906 65.6562 19.7344C65.1771 18.5781 64.9375 17.3125 64.9375 15.9375C64.9375 14.5625 65.1771 13.2969 65.6562 12.1406C66.1354 10.9844 66.7969 9.98958 67.6406 9.15625C68.4844 8.32292 69.4896 7.67708 70.6562 7.21875C71.8229 6.75 73.0938 6.51562 74.4688 6.51562C75.1354 6.51562 75.8177 6.5625 76.5156 6.65625C77.2135 6.75 77.8906 6.90104 78.5469 7.10938C79.2031 7.30729 79.8229 7.56771 80.4062 7.89062C80.9896 8.21354 81.4948 8.61458 81.9219 9.09375C82.3594 9.5625 82.7031 10.1094 82.9531 10.7344C83.2135 11.3594 83.3438 12.0729 83.3438 12.875ZM105.094 14.6562C105.094 15.875 104.943 17.1458 104.641 18.4688C104.349 19.7917 103.938 21.0885 103.406 22.3594C102.875 23.6302 102.24 24.8229 101.5 25.9375C100.76 27.0625 99.9479 28.0312 99.0625 28.8438L97.0781 27.7656C97.3594 27.2448 97.625 26.6615 97.875 26.0156C98.125 25.3698 98.349 24.6875 98.5469 23.9688C98.7552 23.2396 98.9375 22.4896 99.0938 21.7188C99.2604 20.9479 99.3958 20.1875 99.5 19.4375C99.6146 18.6771 99.6979 17.9427 99.75 17.2344C99.8125 16.5156 99.8438 15.849 99.8438 15.2344C99.8438 14.8281 99.8281 14.3958 99.7969 13.9375C99.7656 13.4688 99.6979 13.0052 99.5938 12.5469C99.5 12.0781 99.3698 11.6302 99.2031 11.2031C99.0365 10.776 98.8125 10.401 98.5312 10.0781C98.2604 9.75521 97.9271 9.49479 97.5312 9.29688C97.1458 9.09896 96.6875 9 96.1562 9C95.6354 9 95.1719 9.11979 94.7656 9.35938C94.3594 9.58854 94 9.89583 93.6875 10.2812C93.375 10.6562 93.1042 11.0885 92.875 11.5781C92.6562 12.0677 92.474 12.5729 92.3281 13.0938C92.1927 13.6042 92.0938 14.1094 92.0312 14.6094C91.9688 15.1094 91.9375 15.5573 91.9375 15.9531V25H86.6406V0.3125H91.9219V9.60938C92.599 8.61979 93.4271 7.85938 94.4062 7.32812C95.3958 6.78646 96.4896 6.51562 97.6875 6.51562C98.9375 6.51562 100.026 6.71875 100.953 7.125C101.88 7.53125 102.651 8.09896 103.266 8.82812C103.88 9.54688 104.339 10.4062 104.641 11.4062C104.943 12.3958 105.094 13.4792 105.094 14.6562ZM107.656 17.2812C107.656 16.4583 107.724 15.6042 107.859 14.7188C108.005 13.8333 108.208 12.9479 108.469 12.0625C108.74 11.1771 109.062 10.3021 109.438 9.4375C109.812 8.57292 110.234 7.74479 110.703 6.95312H114.562C114.302 7.73438 114.068 8.55208 113.859 9.40625C113.661 10.25 113.49 11.099 113.344 11.9531C113.208 12.7969 113.099 13.625 113.016 14.4375C112.943 15.25 112.906 16.0052 112.906 16.7031C112.906 17.1094 112.922 17.5469 112.953 18.0156C112.995 18.474 113.062 18.9375 113.156 19.4062C113.25 19.8646 113.38 20.3073 113.547 20.7344C113.724 21.1615 113.948 21.5417 114.219 21.875C114.49 22.1979 114.818 22.4583 115.203 22.6562C115.599 22.8438 116.062 22.9375 116.594 22.9375C117.115 22.9375 117.578 22.8229 117.984 22.5938C118.401 22.3542 118.766 22.0469 119.078 21.6719C119.391 21.2865 119.656 20.849 119.875 20.3594C120.094 19.8698 120.271 19.3698 120.406 18.8594C120.552 18.3385 120.656 17.8333 120.719 17.3438C120.792 16.8438 120.828 16.3958 120.828 16V6.95312H126.109V25H124.078L121.656 20.7969C121.354 21.4948 120.984 22.1302 120.547 22.7031C120.12 23.2656 119.63 23.75 119.078 24.1562C118.526 24.5625 117.911 24.875 117.234 25.0938C116.568 25.3125 115.844 25.4219 115.062 25.4219C113.812 25.4219 112.724 25.2188 111.797 24.8125C110.87 24.4062 110.099 23.8438 109.484 23.125C108.87 22.4062 108.411 21.5521 108.109 20.5625C107.807 19.5625 107.656 18.4688 107.656 17.2812ZM148.969 14.6562C148.969 15.875 148.818 17.1458 148.516 18.4688C148.224 19.7917 147.812 21.0885 147.281 22.3594C146.75 23.6302 146.115 24.8229 145.375 25.9375C144.635 27.0625 143.823 28.0312 142.938 28.8438L140.953 27.7656C141.234 27.2448 141.5 26.6615 141.75 26.0156C142 25.3698 142.224 24.6875 142.422 23.9688C142.63 23.2396 142.812 22.4896 142.969 21.7188C143.135 20.9479 143.271 20.1875 143.375 19.4375C143.49 18.6771 143.573 17.9427 143.625 17.2344C143.688 16.5156 143.719 15.849 143.719 15.2344C143.719 14.8281 143.703 14.3958 143.672 13.9375C143.641 13.4688 143.573 13.0052 143.469 12.5469C143.375 12.0781 143.245 11.6302 143.078 11.2031C142.911 10.776 142.688 10.401 142.406 10.0781C142.135 9.75521 141.802 9.49479 141.406 9.29688C141.021 9.09896 140.562 9 140.031 9C139.51 9 139.047 9.11979 138.641 9.35938C138.234 9.58854 137.875 9.89583 137.562 10.2812C137.25 10.6562 136.979 11.0885 136.75 11.5781C136.531 12.0677 136.349 12.5729 136.203 13.0938C136.068 13.6042 135.969 14.1094 135.906 14.6094C135.844 15.1094 135.812 15.5573 135.812 15.9531V25H130.516V6.95312H132.547L134.969 11.1562C135.26 10.4583 135.625 9.82292 136.062 9.25C136.5 8.67708 136.995 8.1875 137.547 7.78125C138.099 7.375 138.708 7.0625 139.375 6.84375C140.052 6.625 140.781 6.51562 141.562 6.51562C142.812 6.51562 143.901 6.71875 144.828 7.125C145.755 7.53125 146.526 8.09896 147.141 8.82812C147.755 9.54688 148.214 10.4062 148.516 11.4062C148.818 12.3958 148.969 13.4792 148.969 14.6562ZM159.062 25H153.766V9.04688H150.484V6.95312H153.766V0.3125H159.062V6.95312H164.531V9.04688H159.062V25ZM170.516 16.4375C171.161 16.5833 171.807 16.6979 172.453 16.7812C173.099 16.8646 173.75 16.9062 174.406 16.9062C175.094 16.9062 175.729 16.8438 176.312 16.7188C176.906 16.5833 177.417 16.3646 177.844 16.0625C178.281 15.75 178.625 15.3385 178.875 14.8281C179.125 14.3177 179.25 13.6823 179.25 12.9219C179.25 12.3073 179.167 11.7448 179 11.2344C178.833 10.724 178.583 10.2865 178.25 9.92188C177.927 9.55729 177.526 9.27604 177.047 9.07812C176.568 8.86979 176.01 8.76562 175.375 8.76562C174.781 8.76562 174.245 8.875 173.766 9.09375C173.297 9.3125 172.88 9.60938 172.516 9.98438C172.161 10.349 171.854 10.776 171.594 11.2656C171.344 11.7552 171.135 12.2656 170.969 12.7969C170.802 13.3281 170.682 13.8646 170.609 14.4062C170.536 14.9479 170.5 15.4583 170.5 15.9375C170.5 16.0208 170.5 16.1042 170.5 16.1875C170.5 16.2708 170.505 16.3542 170.516 16.4375ZM183.531 12.875C183.531 13.6146 183.411 14.276 183.172 14.8594C182.932 15.4323 182.604 15.9375 182.188 16.375C181.781 16.8125 181.307 17.1823 180.766 17.4844C180.224 17.7865 179.646 18.0365 179.031 18.2344C178.417 18.4219 177.781 18.5573 177.125 18.6406C176.479 18.724 175.849 18.7656 175.234 18.7656C174.453 18.7656 173.682 18.7135 172.922 18.6094C172.161 18.4948 171.411 18.3177 170.672 18.0781C170.786 18.7656 170.969 19.4219 171.219 20.0469C171.469 20.6615 171.802 21.2031 172.219 21.6719C172.635 22.1302 173.146 22.4948 173.75 22.7656C174.365 23.0365 175.089 23.1719 175.922 23.1719C176.474 23.1719 177 23.0885 177.5 22.9219C178 22.7552 178.458 22.5208 178.875 22.2188C179.292 21.9167 179.656 21.5573 179.969 21.1406C180.292 20.724 180.552 20.2604 180.75 19.75L183.031 20.5938C182.688 21.4167 182.214 22.1302 181.609 22.7344C181.016 23.3281 180.339 23.8229 179.578 24.2188C178.828 24.6042 178.026 24.8906 177.172 25.0781C176.328 25.2656 175.49 25.3594 174.656 25.3594C173.281 25.3594 172.01 25.1302 170.844 24.6719C169.677 24.2031 168.672 23.5521 167.828 22.7188C166.984 21.8854 166.323 20.8906 165.844 19.7344C165.365 18.5781 165.125 17.3125 165.125 15.9375C165.125 14.5625 165.365 13.2969 165.844 12.1406C166.323 10.9844 166.984 9.98958 167.828 9.15625C168.672 8.32292 169.677 7.67708 170.844 7.21875C172.01 6.75 173.281 6.51562 174.656 6.51562C175.323 6.51562 176.005 6.5625 176.703 6.65625C177.401 6.75 178.078 6.90104 178.734 7.10938C179.391 7.30729 180.01 7.56771 180.594 7.89062C181.177 8.21354 181.682 8.61458 182.109 9.09375C182.547 9.5625 182.891 10.1094 183.141 10.7344C183.401 11.3594 183.531 12.0729 183.531 12.875ZM202.172 8.54688L199.203 13.4688C199.078 13.0521 198.917 12.5833 198.719 12.0625C198.521 11.5417 198.276 11.0573 197.984 10.6094C197.693 10.151 197.344 9.77083 196.938 9.46875C196.531 9.15625 196.062 9 195.531 9C195.042 9 194.615 9.125 194.25 9.375C193.896 9.625 193.594 9.95312 193.344 10.3594C193.094 10.7552 192.885 11.2083 192.719 11.7188C192.562 12.2188 192.438 12.7292 192.344 13.25C192.26 13.7604 192.203 14.2552 192.172 14.7344C192.141 15.2031 192.125 15.6094 192.125 15.9531V25H186.828V6.95312H188.859L191 11.1562C191.292 10.4792 191.625 9.85938 192 9.29688C192.375 8.72396 192.807 8.23438 193.297 7.82812C193.786 7.41146 194.339 7.08854 194.953 6.85938C195.578 6.63021 196.281 6.51562 197.062 6.51562C197.469 6.51562 197.922 6.55208 198.422 6.625C198.922 6.6875 199.411 6.80208 199.891 6.96875C200.37 7.125 200.812 7.33333 201.219 7.59375C201.625 7.85417 201.943 8.17188 202.172 8.54688Z"
                                    fill="white"
                                />
                            </svg>
                        </div>
                    </div>
                </NavLink>

                {/* Mobile menu button */}
                <button
                    className="md:hidden z-50"
                    onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                    aria-label="Toggle menu"
                >
                    {mobileMenuOpen ? <FiX size={24} /> : <FiMenu size={24} />}
                </button>

                {/* Desktop Nav Links */}
                <div className="hidden md:flex items-center gap-4 text-md font-changa">
                    <NavLink to={"/"}
                        className={({ isActive }) =>
                            `cursor-pointer px-3 py-2 rounded-xl transition-colors ${isActive
                                ? "text-purple-600 underline bg-purple-100/20"
                                : "hover:text-white hover:bg-purple-200/30 hover:underline"
                            }`
                        }
                    >
                        Home
                    </NavLink>

                    <NavLink to={"/problems"}
                        className={({ isActive }) =>
                            `cursor-pointer px-3 py-2 rounded-xl transition-colors ${isActive
                                ? "text-indigo-400 underline bg-indigo-100/20"
                                : "hover:text-white hover:bg-indigo-200/30 hover:underline"
                            }`
                        }
                    >
                        Practice
                    </NavLink>

                    <NavLink to="/pricing"
                        className={({ isActive }) =>
                            `cursor-pointer px-3 py-2 rounded-xl transition-colors ${isActive
                                ? "text-pink-700 underline bg-pink-100/20"
                                : "hover:text-white hover:bg-pink-200/30 hover:underline"
                            }`
                        }
                    >
                        Pricing
                    </NavLink>

                    <NavLink to="/shop"
                        className={({ isActive }) =>
                            `cursor-pointer px-3 py-2 rounded-xl transition-colors ${isActive
                                ? "text-teal-400 underline bg-teal-100/20"
                                : "hover:text-white hover:bg-teal-200/30 hover:underline"
                            }`
                        }
                    >
                        Shop
                    </NavLink>

                    <NavLink to="/contribution
"
                        className={({ isActive }) =>
                            `cursor-pointer px-3 py-2 rounded-xl transition-colors ${isActive
                                ? "text-yellow-400 underline bg-yellow-100/20"
                                : "hover:text-white hover:bg-green-200/30 hover:underline"
                            }`
                        }
                    >
                        Contribution

                    </NavLink>

                    <NavLink to="/dashbord"
                        className={({ isActive }) =>
                            `cursor-pointer px-3 py-2 rounded-xl transition-colors ${isActive
                                ? "text-green-400 underline bg-green-100/20"
                                : "hover:text-white hover:bg-green-200/30 hover:underline"
                            }`
                        }
                    >
                        Dashboard
                    </NavLink>
                </div>

                {/* Desktop Buttons */}
                <div className="hidden md:flex gap-3 items-center">
                    {isAuthenticated ? (
                        <NavLink to={"/pricing"}>
                            <h1 className="font-aladin text-xl relative inline-block">
                                Upgrade to <span className="font-aladin bg-gradient-to-r from-yellow-500 to-orange-600 text-transparent bg-clip-text text-xl font-extrabold">Pro</span>
                            </h1>
                        </NavLink>
                    ) : (
                        <NavLink to={"/signup"}>
                            <ShimmerButton>
                                <span className="whitespace-pre-wrap text-center text-sm font-medium leading-none tracking-tight text-white lg:text-lg font-changa">
                                    SignUp
                                </span>
                            </ShimmerButton>
                        </NavLink>
                    )}

                    {isAuthenticated ? (
                        <NavProfile user={user} />
                    ) : (
                        <button className="text-black border border-gray-400 px-4 py-3.5 md:px-6 rounded-[40px] hover:bg-gray-300 transition-colors duration-300 font-chango">
                            <NavLink to={"/login"}>Login</NavLink>
                        </button>
                    )}
                </div>
            </nav>

            {/* Mobile Menu */}
            <div className={`fixed inset-0 z-40 bg-black/90 backdrop-blur-lg transition-all duration-300 transform ${mobileMenuOpen ? 'translate-y-0' : '-translate-y-full'
                } pt-20`}>
                <div className="flex flex-col items-center space-y-6 font-changa p-6">
                    <NavLink to={"/"}
                        className={({ isActive }) =>
                            `cursor-pointer text-xl px-4 py-3 rounded-xl w-full text-center transition-colors ${isActive
                                ? "text-white underline bg-purple-100/20"
                                : " hover:text-white hover:bg-purple-200/30 hover:underline"
                            }`
                        }
                    >
                        Home
                    </NavLink>

                    <NavLink to={"/problems"}
                        className={({ isActive }) =>
                            `cursor-pointer text-xl px-4 py-3 rounded-xl w-full text-center transition-colors ${isActive
                                ? "text-white underline bg-indigo-100/20"
                                : " hover:text-white hover:bg-indigo-200/30 hover:underline"
                            }`
                        }
                    >
                        Practice
                    </NavLink>

                    <NavLink to="/pricing"
                        className={({ isActive }) =>
                            `cursor-pointer text-xl px-4 py-3 rounded-xl w-full text-center transition-colors ${isActive
                                ? "text-white underline bg-pink-100/20"
                                : "hover:text-white hover:bg-pink-200/30 hover:underline"
                            }`
                        }
                    >
                        Pricing
                    </NavLink>

                    <NavLink to="/explore"
                        className={({ isActive }) =>
                            `cursor-pointer text-xl px-4 py-3 rounded-xl w-full text-center transition-colors ${isActive
                                ? "text-white underline bg-purple-100/20"
                                : "hover:text-white hover:bg-purple-200/30 hover:underline"
                            }`
                        }
                    >
                        Explore
                    </NavLink>

                    <NavLink to="/dashbord"
                        className={({ isActive }) =>
                            `cursor-pointer text-xl px-4 py-3 rounded-xl w-full text-center transition-colors ${isActive
                                ? "text-white underline bg-green-100/20"
                                : "hover:text-white hover:bg-green-200/30 hover:underline"
                            }`
                        }
                    >
                        Dashboard
                    </NavLink>

                    <div className="flex flex-col gap-4 w-full mt-8">
                        {isAuthenticated ? (
                            <>
                                <NavLink to={"/pricing"} className="w-full">
                                    <button className="w-full py-3 rounded-xl bg-gradient-to-r from-yellow-500 to-orange-600 text-white font-bold text-lg">
                                        Upgrade to Pro
                                    </button>
                                </NavLink>
                                <div className="w-full flex justify-center">
                                    <NavProfile user={user} />
                                </div>
                            </>
                        ) : (
                            <>
                                <NavLink to={"/signup"} className="w-full">
                                    <ShimmerButton className="w-full">
                                        <span className="whitespace-pre-wrap text-center text-lg font-medium leading-none tracking-tight text-white font-changa">
                                            SignUp
                                        </span>
                                    </ShimmerButton>
                                </NavLink>
                                <NavLink to={"/login"} className="w-full">
                                    <button className="w-full py-3 rounded-xl bg-white text-black font-bold text-lg border border-gray-300">
                                        Login
                                    </button>
                                </NavLink>
                            </>
                        )}
                    </div>
                </div>

            </div>
        </>
    );
}